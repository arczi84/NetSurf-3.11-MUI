
#override TARGET=mui

override COMMON_WARNFLAGS =
override GCCSDK_INSTALL_ENV=/opt/netsurf/

PREF=/opt/netsurf/m68k-unknown-amigaos
GCCSDK_INSTALL_ENV = $(PREF)/env
GCCSDK_INSTALL_CROSSBIN = $(PREF)/cross/bin
CFLAGS += -D__clib2__ -I$(PREF)/cross/m68k-unknown-amigaos/include -I$(PREF)/env/include \
        -I$(PREF)/env/m68k-unknown-amigaos/sys-include -I$(PREF)/env/netinclude 
LDFLAGS += -L/mnt/d/opt/netsurfy/netsurf-all-3.11/inst-amigaos3/lib -lnet -lamisslauto
PKG_CONFIG_PATH=/mnt/d/opt/netsurfy/netsurf-all-3.11/inst-amigaos3/lib/pkgconfig:/opt/netsurf/m68k-unknown-amigaos/env/lib/pkgconfig	

CC := $(PREF)/cross/bin/m68k-unknown-amigaos-gcc
AS := $(PREF)/cross/bin/m68k-unknown-amigaos-as
LD := $(PREF)/cross/bin/m68k-unknown-amigaos-ld
AR := ar

HOST_GCC=gcc

	DEBUG 			:= NO
	JS			:= NO
	RTG 			:= YES
	USE_CACHE		:= YES
	
NETSURF_USE_AMISSL := NO
	
ifeq ($(findstring js,$(HOST)),js)
	JS			:= YES
endif
	
ifeq ($(findstring aga,$(HOST)),aga)
RTG := NO
CFLAGS += -DAGA685 -DAGA
endif

ifeq ($(RTG),YES)
	CFLAGS += -DRTG
endif
	
ifeq ($(USE_CACHE),YES)
override NETSURF_FS_BACKING_STORE := YES
else
override NETSURF_FS_BACKING_STORE := NO
endif

PPC := NO

ifeq ($(DEBUG),YES)
	CFLAGS += -DDEBUG_FETCH_VERBOSE
	#CFLAGS +=  -DFBTK_LOGGING
	#CFLAGS +=  -DDEBUG_SCHEDULER
else
	#CFLAGS += -DNDEBUG
endif

ifeq ($(TTF),YES)
	override  NETSURF_FB_FONTLIB := freetype
	NETSURF_FEATURE_FREETYPE2_CFLAGS := -DFB_USE_FREETYPE
	NETSURF_USE_FREETYPE2 := YES
else
	override  NETSURF_FB_FONTLIB := internal
endif

ifeq ($(NETSURF_FS_BACKING_STORE),YES)
	CFLAGS += -DCACHE
endif

### To enable/disable PNG support, uncomment the appropriate line below.
 override NETSURF_USE_PNG := YES

### To enable/disable SVGTiny support, uncomment the appropriate line below.
# override NETSURF_USE_NSSVG := YES
 override NETSURF_USE_NSSVG := NO

### To enable/disable RSVG support, uncomment the appropriate line below.
# override NETSURF_USE_RSVG := YES
 override NETSURF_USE_RSVG := NO

NETSURF_USE_LIBICONV_PLUG := NO
NETSURF_USE_UTF8PROC := YES

### To enable/disable BMP support, uncomment the appropriate line below.
 override NETSURF_USE_BMP := YES

### To make the framebuffer front end use freetype for text, uncomment the
### following line
# override NETSURF_FB_FONTLIB := freetype

### To disable JavaScript support, uncomment the appropriate line below.
override NETSURF_USE_DUKTAPE := NO

### To change flags to javascript binding generator
# GBFLAGS:=-g

### To enable ASAN and UBSAN support in builds regardless of target
# override NETSURF_USE_SANITIZER := YES

### If you're using the sanitizers and you want it to stop on failure...
 override NETSURF_RECOVER_SANITIZERS := NO
 
override  NETSURF_FB_FRONTEND := sdl
override  NETSURF_FB_RESPATH_sdl := "PROGDIR:Resources/"
override  NETSURF_STRIP_BINARY := NO

### To change the compiled in log level, alter this.
# Valid options are: DEEPDEBUG, DEBUG, VERBOSE, INFO, WARNING, ERROR, CRITICAL
#override NETSURF_LOG_LEVEL := DEBUG
 override NETSURF_LOG_LEVEL := CRITICAL
 #WARNING
 #ERROR

### To change the compiled in default log, change this
#override NETSURF_BUILTIN_LOG_FILTER := "(level:WARNING || cat:jserrors)"

### To change the compiled in *verbose* log, change this
#override NETSURF_BUILTIN_VERBOSE_FILTER := "(level:VERBOSE || cat:jserrors)"

